#!/bin/bash

eval $(free -m | grep Mem | awk '{print "total="$2"; used="$3";"}')

repeat() {
    for i in `seq $2`; do echo -n "$1"; done
}

used=$[8 * (used + 1) / total]
free=$[8 - used]

repeat "$(echo -e '\xb7')" $used
repeat " " $free
echo
